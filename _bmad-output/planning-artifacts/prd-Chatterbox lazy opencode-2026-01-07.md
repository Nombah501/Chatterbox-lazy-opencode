# PRD — Chatterbox lazy opencode

## Executive Summary
Chatterbox lazy opencode — open‑source инструмент для разработчиков, добавляющий голосовой слой к ответам ИИ‑агентов в OpenCode CLI. Продукт синтезирует ответы нескольких ассистентов в краткий итог с расхождениями и цитатами, а затем опционально озвучивает итог через локальный Chatterbox‑TTS. Вдохновлен AgentVibes (функционально), но целится в OpenCode.

## Problem Statement
При длительной работе в OpenCode пользователи получают много текстовых ответов от ИИ‑агентов без аудио‑слоя. Это приводит к визуальной усталости и затрудняет быстрый выбор между вариантами ответов. Решение должно дать краткий, прозрачный синтез и опциональную озвучку.

## Goals
- Добавить голосовое сопровождение к итоговым ответам в OpenCode.
- Обеспечить синтез: «итог + расхождения + цитаты‑источники».
- Сделать минимальный, стабильный core с опциональным TTS.

## Non‑Goals
- Персональности/эмоции/стили речи.
- Многоязычный режим и “language learning mode”.
- Интеграции с внешними сервисами кроме OpenCode.

## Target Users
1) Соло‑разработчики, активно использующие OpenCode и проводящие много часов в CLI.
2) Power users ИИ‑ассистентов, сравнивающие несколько ответов.
3) OSS‑мейнтейнеры, использующие ассистентов для рутинных задач.

## Jobs‑to‑Be‑Done (Primary Segment)
- Быстро понять итог ответов без постоянного чтения экрана.
- Сравнить ответы и выбрать лучший путь.
- Получить краткую сводку результата во время длинной сессии.

## User Scenarios
- Длительные coding‑сессии (10–12 часов) с визуальной усталостью.
- Параллельная работа: код + терминал + документация.
- Несколько агентов выдают разные ответы, нужен быстрый выбор.

## Pain Points
- Визуальная усталость и когнитивная перегрузка.
- Сложность быстро увидеть расхождения между агентами.
- Отсутствие нативной озвучки результатов в OpenCode.

## Priorities
1) Удобный формат (итог + расхождения).
2) Прозрачность (цитаты‑источники).
3) Аудио‑слой как hands‑free режим.

## User Journey (Primary Segment)
- Discovery: рекомендации в OpenCode/OSS/CLI‑сообществах.
- Onboarding: установка CLI/плагина, включение TTS, короткое демо.
- Regular use: озвучка итогов и сводок задач.
- Aha moment: “могу слушать итог и меньше смотреть в экран”.
- Habit: TTS включен в ежедневных сессиях.

## Functional Requirements (MVP)
- Включение/выключение TTS в CLI.
- Синтез «итог + расхождения» с цитатами.
- Выбор голоса и скорости.
- Озвучка итогов/завершений задач.
- Экспорт результатов в файл.
- Авто‑отключение TTS в CI/неинтерактивных режимах.

## User Stories
- Как соло‑разработчик, я хочу слышать итог ответа, чтобы меньше смотреть в экран.
- Как power user, я хочу видеть расхождения между агентами, чтобы быстрее выбрать путь.
- Как мейнтейнер, я хочу сохранять сводку в файл, чтобы делиться с командой.

## Success Metrics
- Доля пользователей, включивших TTS и не отключивших в течение недели.
- Количество сессий с озвучкой на пользователя/неделю.
- Время до первого “aha” (первое прослушивание итога).
- Количество экспортов результатов.

## Non‑Functional Requirements
- Латентность: озвучка итогов за секунды, не минуты.
- Надежность: при сбое TTS текстовый вывод не ломается.
- Ресурсы: работа на CPU обязательна, GPU опционально.
- Приватность: локальная обработка TTS по умолчанию.
- UX‑стабильность: не мешать основному потоку OpenCode.

## Constraints
- Платформа: Linux (Manjaro KDE) — приоритет.
- Лицензии: избегать GPL/AGPL, придерживаться MIT/Apache‑2.0/BSD.
- Интеграция: через OpenCode plugin API.

## Assumptions
- Пользователи готовы установить Python‑зависимости для TTS.
- OpenCode plugin API достаточно гибок для интеграции.
- Chatterbox подходит по качеству/скорости на локальной машине.

## Risks
- Высокие системные требования Chatterbox на CPU.
- Сложность установки и зависимостей.
- Недостаточный интерес (nice‑to‑have).

## Dependencies
- OpenCode CLI и plugin API.
- Chatterbox‑TTS (Python, torch/torchaudio).
- Системные аудио‑плееры Linux.

## Open Questions
- Полная совместимость с командами AgentVibes или функциональное соответствие?
- Точный формат вывода “как у AgentVibes” (структура/интерактивность).
- Политика авто‑отключения TTS по окружению (CI/SSH/remote).
